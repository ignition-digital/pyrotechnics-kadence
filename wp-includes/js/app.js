function renderProductList(e,t){const n=document.getElementById(t);n&&(n.innerHTML="",e.forEach((function(e){var t=generateProductHTML(e);n.innerHTML+=t})))}function generateProductHTML(e){const t="https://product-110924.s3.ap-southeast-1.amazonaws.com/images/product-placeholder2.webp",n=`${e.image_urls?.[0]?`https://product-110924.s3.ap-southeast-1.amazonaws.com/Pyrotechnics-2025-CNY/PICTURE2/${e.image_urls[0]}`:t}?v=1.0`;let a="zh"===localStorage.getItem("selectedLanguage")?e.chinese:e.english;return`\n    <a href="product.html?id=${e.id}#specs">\n      <div class="pp-grid-item-wrap ${e.group}" data-item-id="${e.id}">\n        <div class="pp-grid-item pp-image">\n          <div class="pp-image-gallery-thumbnail-wrap pp-ins-filter-hover pp-gallery-tilt">\n            <div class="pp-ins-filter-target pp-image-gallery-thumbnail">\n              <img\n                decoding="async"\n                class="pp-gallery-slide-image product-image-border"\n                src="${t}" \n                srcset="${n} 1x, ${n} 2x" \n                alt=""\n                data-no-lazy="1"\n                loading="lazy"\n              />\n            </div>\n            <div class="pp-image-overlay pp-media-overlay"></div>\n            <div class="pp-gallery-image-content pp-media-content"></div>\n            <div class="pp-gallery-image-content">\n              <div class="pp-gallery-image-caption">${a}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </a>\n  `}function handleLanguageOnChange(e){const t=document.getElementById(e),n=t.value;localStorage.setItem("selectedLanguage",n),fetchTranslation(n),document.getElementById("desktopLanguageSelect").value=t.value,document.getElementById("mobileLanguageSelect").value=t.value;const a=window.location.pathname;(a.includes("product")||a.includes("our-fireworks"))&&window.location.reload()}function fetchTranslation(e){fetch(`i18n/${e}.json`).then((e=>e.json())).then((e=>{applyTranslation(e)}))}function applyTranslation(e){document.querySelectorAll("[data-translate]").forEach((t=>{const n=t.getAttribute("data-translate"),a=getTranslationValue(n,e);a&&("search.placeholder"===n?t.setAttribute("placeholder",a):t.textContent=a)}))}function getTranslationValue(e,t){const n=e.split(".");let a=t;return n.forEach((e=>{a=a[e]})),a}function adjustHrefs(){const e=["localhost","127.0.0.1"].includes(window.location.hostname);document.querySelectorAll("a[href$='.html']").forEach((t=>{e||(t.href=t.href.replace(".html",""))}))}document.addEventListener("DOMContentLoaded",(function(){adjustHrefs();const e=document.getElementById("desktopLanguageSelect"),t=document.getElementById("mobileLanguageSelect"),n=localStorage.getItem("selectedLanguage");n?(e&&(e.value=n,t.value=n),fetchTranslation(n)):(e.value="en",t.value="zh",localStorage.setItem("selectedLanguage","en"),window.location.reload())})),document.addEventListener("DOMContentLoaded",(function(){const e=window.location.pathname,t=document.querySelectorAll("#primary-menu li");for(let n of t){const t=n.querySelector("a");if(t&&(e.includes(t.getAttribute("href"))||t.getAttribute("href").includes(e))){n.classList.add("current-menu-item");break}}}));